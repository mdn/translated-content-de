---
title: "PublicKeyCredential: parseCreationOptionsFromJSON() statische Methode"
short-title: parseCreationOptionsFromJSON()
slug: Web/API/PublicKeyCredential/parseCreationOptionsFromJSON_static
l10n:
  sourceCommit: 3e543cdfe8dddfb4774a64bf3decdcbab42a4111
---

{{APIRef("Web Authentication API")}}{{securecontext_header}}

Die statische Methode **`parseCreationOptionsFromJSON()`** der [`PublicKeyCredential`](/de/docs/Web/API/PublicKeyCredential)-Schnittstelle erstellt ein [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekt aus einer JSON-Darstellung seiner Eigenschaften.

Die Methode ist eine praktische Funktion zum Konvertieren von Anmeldeinformationsoptionen, die von einem vertrauenden Server bereitgestellt werden, in eine Form, die eine Web-App verwenden kann, um [Anmeldedaten zu erstellen](/de/docs/Web/API/Web_Authentication_API#creating_a_key_pair_and_registering_a_user).

## Syntax

```js-nolint
PublicKeyCredential.parseCreationOptionsFromJSON(options)
```

### Parameter

- `options`
  - : Ein Objekt mit derselben Struktur wie ein [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions), jedoch mit {{Glossary("Base64", "base64url")}}-kodierten Zeichenketten anstelle von Puffer-Eigenschaften.

### Rückgabewert

Ein [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekt.

### Ausnahmen

- `EncodingError` [`DOMException`](/de/docs/Web/API/DOMException)
  - : Wird ausgelöst, wenn das `options`-Objekt nicht in ein [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekt konvertiert werden kann.
- `SecurityError` [`DOMException`](/de/docs/Web/API/DOMException)
  - : Die RP-Domäne ist nicht gültig.

## Beschreibung

Der Web-Authentifizierungsprozess zum [Erstellen eines Schlüsselpaares und Registrieren eines Benutzers](/de/docs/Web/API/Web_Authentication_API#creating_a_key_pair_and_registering_a_user) beinhaltet, dass ein vertrauender Server der Web-App die Informationen bereitstellt, die zum Erstellen einer Anmeldeinformation erforderlich sind, einschließlich Informationen zur Benutzeridentität, der vertrauenden Partei und einer "Herausforderung".
Die Web-App übergibt diese Informationen an einen Authentifikator, um die Anmeldeinformation zu erstellen, indem sie [`navigator.credentials.create()`](/de/docs/Web/API/CredentialsContainer/create) mit einem [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekt als Argument aufruft.

Die Spezifikation definiert nicht, wie die Informationen zum Erstellen einer Anmeldeinformation gesendet werden.
Ein praktischer Ansatz besteht darin, dass der Server die Informationen in einer {{Glossary("JSON_type_representation", "JSON-Typdarstellung")}} des [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekts kapselt, das seine Struktur widerspiegelt, aber Puffer-Eigenschaften wie die `challenge` und `user.id` als {{Glossary("Base64", "base64url")}}-Zeichenketten kodiert.
Dieses Objekt kann in eine {{Glossary("JSON", "JSON")}}-Zeichenkette serialisiert, an die Web-App gesendet und deserialisiert und dann mit **`parseCreationOptionsFromJSON()`** in ein [`PublicKeyCredentialCreationOptions`](/de/docs/Web/API/PublicKeyCredentialCreationOptions)-Objekt konvertiert werden.

## Beispiele

Beim Registrieren eines neuen Benutzers liefert ein vertrauender Server der Web-App Informationen über die erwarteten Anmeldeinformationen.
Der untenstehende Code definiert diese Informationen in der oben beschriebenen Form des [`options`-Parameters](#options) (entnommen aus dem ["Erhalt einer AuthenticatorAttestationResponse"](/de/docs/Web/API/AuthenticatorResponse#getting_an_authenticatorattestationresponse) in `AuthenticatorResponse`):

```js
const createCredentialOptionsJSON = {
  challenge:
    "21, 31, 105, " /* 29 more random bytes generated by the server in this string */,
  rp: {
    name: "Example CORP",
    id: "login.example.com",
  },
  user: {
    id: "16",
    name: "canand@example.com",
    displayName: "Carina Anand",
  },
  pubKeyCredParams: [
    {
      type: "public-key",
      alg: -7,
    },
  ],
};
```

Da dieses Objekt nur JSON-Datentypen verwendet, kann es mit [`JSON.stringify()`](/de/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) in JSON serialisiert und an die Web-App gesendet werden.

```js
JSON.stringify(createCredentialOptionsJSON);
```

Die Web-App kann die JSON-Zeichenkette zurück in ein `createCredentialOptionsJSON`-Objekt deserialisieren (nicht gezeigt).
Die Methode **`parseCreationOptionsFromJSON()`** wird verwendet, um dieses Objekt in eine Form zu konvertieren, die in `navigator.credentials.create()` verwendet werden kann:

```js
// Convert options to form used by create()
const createCredentialOptions =
  PublicKeyCredential.parseCreationOptionsFromJSON(
    createCredentialOptionsJSON, // JSON-type representation
  );

navigator.credentials
  .create({ publicKey: createCredentialOptions })
  .then((newCredentialInfo) => {
    // Handle the new credential information here.
  })
  .catch((err) => {
    console.error(err);
  });
```

## Spezifikationen

{{Specifications}}

## Browser-Kompatibilität

{{Compat}}

## Siehe auch

- [Web Authentication API](/de/docs/Web/API/Web_Authentication_API)
- [`PublicKeyCredential.parseRequestOptionsFromJSON()`](/de/docs/Web/API/PublicKeyCredential/parseRequestOptionsFromJSON_static)
- [`PublicKeyCredential.toJSON()`](/de/docs/Web/API/PublicKeyCredential/toJSON)
